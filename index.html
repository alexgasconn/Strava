<!-- Dentro de index.html, reemplaza el <body> -->
<body>
    <div class="container">
        <div id="login-section">
            <h1>Mi Dashboard de Strava</h1>
            <p>Conecta tu cuenta de Strava para ver tu historial de entrenamiento analizado.</p>
            <button id="login-button">Conectar con Strava</button>
        </div>

        <!-- Esta es la sección principal de la app, oculta al principio -->
        <!-- Reemplaza el div #app-section completo en tu index.html -->
<div id="app-section" class="hidden">
    <header>
        <h1 id="athlete-name"></h1>
        <button id="logout-button">Cerrar Sesión</button>
    </header>

    <!-- Nueva Barra de Navegación de Pestañas -->
    <nav id="tabs">
        <button class="tab-link active" data-tab="overview">🏠 Overview</button>
        <button class="tab-link" data-tab="analysis">📊 Analysis</button>
        <button class="tab-link" data-tab="running">🏃 Running</button>
        <button class="tab-link" data-tab="cycling">🚴 Cycling</button>
        <button class="tab-link" data-tab="swimming">🏊 Swimming</button>
    </nav>

    <!-- Nuevos Contenedores para las pestañas -->
    <main>
        <!-- PESTAÑA OVERVIEW -->
        <div id="overview" class="tab-content active">
            <div id="summary-cards" class="summary-grid"></div>
            <div class="chart-container full-width">
                <h3>Consistencia del Último Año</h3>
                <div id="cal-heatmap"></div> <!-- Contenedor para el heatmap -->
            </div>
        </div>

        <!-- PESTAÑA ANALYSIS -->
        <div id="analysis" class="tab-content">
            <h2>Análisis Detallado</h2>
            <div class="grid-2-col">
                <div class="chart-container">
                    <h3>Distancia por Actividad (Línea de tiempo)</h3>
                    <canvas id="distance-over-time"></canvas>
                </div>
                <div class="chart-container">
                    <h3>Distribución de Desnivel Ganado</h3>
                    <canvas id="elevation-distribution"></canvas>
                </div>
                <div class="chart-container">
                    <h3>Velocidad Media por Deporte</h3>
                    <canvas id="avg-speed-by-type"></canvas>
                </div>
                <!-- Puedes añadir más gráficos aquí -->
            </div>
        </div>

        <!-- PESTAÑA RUNNING (ya la teníamos) -->
        <div id="running" class="tab-content">
            <h2>Análisis de Running</h2>
            <div id="running-summary-cards" class="summary-grid"></div>
            <div class="grid-2-col">
                <div class="chart-container">
                    <h3>Ritmo vs. Distancia</h3>
                    <canvas id="pace-vs-distance-chart"></canvas>
                </div>
                <div class="table-container">
                    <h3>Top 5 Carreras más Largas</h3>
                    <table id="top-distance-runs"></table>
                </div>
            </div>
             <div class="table-container full-width">
                <h3>Top 5 Carreras más Rápidas (Ritmo)</h3>
                <table id="top-pace-runs"></table>
            </div>
        </div>
        
        <!-- PESTAÑAS CYCLING Y SWIMMING (sin cambios) -->
        <div id="cycling" class="tab-content"><h2>Análisis de Ciclismo</h2></div>
        <div id="swimming" class="tab-content"><h2>Análisis de Natación</h2></div>
    </main>
</div>
        

        <div id="loading-overlay" class="hidden">
            <div class="spinner"></div>
            <p id="loading-message"></p>
        </div>
    </div>

    <!-- Incluimos la librería Chart.js -->
    <!-- Pega esto ANTES del script de Chart.js -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/cal-heatmap@4.2.2/dist/cal-heatmap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="script.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cal-heatmap@4.2.2/dist/cal-heatmap.css">
</body>
